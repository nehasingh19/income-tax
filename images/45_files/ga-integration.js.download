!function(e,n,t,a){t.modules({"webengage/ga-integration":[function(n,i,o){"use strict";function g(n){var t;return n?s?t=e[v].getAll()[0].get("trackingId"):e[v](function(e){t=e.get("trackingId")}):t=e._gat._getTrackerByName(b)._getAccount(),t}function r(n){var t="",a=!1;return"undefined"!=typeof GoogleAnalyticsObject&&"undefined"!=typeof v&&"function"==typeof e[v]&&GoogleAnalyticsObject===v&&(a=!0,t=g(!0),t===n)?!0:e._gaq&&e._gat&&(t=g(!1),t===n)?!1:a}function c(){if(!d){var n=e[v].getAll()[0].get("clientId"),t=g(!0);n&&t&&(e[v]("create",t,{clientId:n}),d=!0)}}function u(n,t,a,i,o){var g={eventCategory:n,eventAction:t,eventLabel:a,eventValue:i,nonInteraction:"boolean"==typeof o&&o?1:0};if(r(l.get("webengage.ga.trackerId"))){var u=ga.getAll().length,f=function(){y||ga.getAll().length!==u?y=!0:(c(),e[v](l.get("webengage._gaTracker")+"send","event",g),s=!1)};s?e.dataLayer&&(g.event=n,g.eventCallback=f,dataLayer.push(g)):e[v](l.get("webengage._gaTracker")+"send","event",g)}else e._gaq&&(s?e.dataLayer&&(g.event=n,g.eventCallback=f,dataLayer.push(g)):e._gaq.push([l.get("webengage._gaTracker")+"_trackEvent",n,t,a,i,!("boolean"!=typeof o||!o)]))}var l=t.require("webengage/weq"),f=t.require("webengage/util");webengage_fs_configurationMap._gaTracker?l.set("webengage._gaTracker",webengage_fs_configurationMap._gaTracker+"."):l.set("webengage._gaTracker","");var s=l.get("webengage.ga.gtm")||!1,v=l.get("GA.universalAnalyticsFunction")||l.get("webengage.GA.universalAnalyticsFunction")||"ga",b=webengage_fs_configurationMap._gaTracker||"",d=!1,y=!1,k={survey:{onSubmit:function(e){function n(e){return"array"===f.type(e)?e.join(","):f.stringify(e)}var t=e.questionResponses;if(t&&t.length>0)for(var a=0;a<t.length;a++){var i=t[a],o="",g="";if(i.value)switch(i.value["@class"]){case"text":o=i.value.text;break;case"file":o=i.value.fileName+" | "+i.value.fileSize;break;case"score":o=i.value.value;break;default:o=n(i.value.values),i.value.additionalInfo&&(g=i.value.additionalInfo[o])}o=g?o+": "+g:o,u("WebEngage-Survey","survey-question-response ( "+o+" )","Question [S:"+e.surveyId+"] [Q:"+i.questionId+"] "+i.questionText)}},onComplete:function(e){u("WebEngage-Survey","survey-complete","Survey [S:"+e.surveyId+"] "+e.title,e.questionResponses.length)},onOpen:function(e){u("WebEngage-Survey","survey-open","Survey [S:"+e.surveyId+"] "+e.title,a,!0)},onClose:function(e){u("WebEngage-Survey","survey-close","Survey [S:"+e.surveyId+"] "+e.title,a,!0)}},notification:{onOpen:function(e){u("WebEngage-Notification","notification-open","Notification [N:"+e.notificationId+"] "+e.title,a,!0)},onClose:function(e){u("WebEngage-Notification","notification-close","Notification [N:"+e.notificationId+"] "+e.title)},onClick:function(e){u("WebEngage-Notification","notification-click","Notification [N:"+e.notificationId+"] "+e.title)}},feedback:{onOpen:function(e){u("WebEngage-Feedback","feedback-open")},onSubmit:function(e){var n=e.id;u("WebEngage-Feedback","feedback-submit",n?"[F:"+n+"]":a)}}};o.init=function(){for(var e in k)if(k.hasOwnProperty(e))for(var n in k[e])k[e].hasOwnProperty(n)&&t[e][n](k[e][n])}},{}]},{},[])}(window,document,webengage);